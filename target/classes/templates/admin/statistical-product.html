<section th:fragment="content">
    <section class="banner_area">
        <div class="container">
            <div class="banner_text">
                <h3 th:text="${namePage}"></h3>
                <ul>
                    <li><a th:href="@{/home}" class="text-white">Home</a></li>
                    <li><a class="text-white" th:text="${namePage}"></a></li>
                </ul>
            </div>
        </div>
    </section>
    <div class="container-fluid">
        <div class="table-responsive">
            <div class="table-wrapper">
                <div class="table-title py-3">
                    <div class="row">
                        <div class="col-sm-4">
                            <h2>Manage <b>Statistical Product</b></h2>
                        </div>
                    </div>
                </div>
                <div class="row m-3">
                    <div class="col-lg-3">
                        <div class="card bg-danger text-light py-5 text-center">
                            <div class="card-header">
                                <h5>Tổng số bánh khác nhau</h5>
                                <h6 th:text="${productCount}">1000</h6>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3" th:each="category : ${categories}">
                        <div class="card bg-primary text-light py-5 text-center">
                            <div class="card-header">
                                <h5 th:text="${category.categoryName}">Categories</h5>
                                <h6 th:text="${category.totalProducts}">1000</h6>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div id="productCollumnChart" class="p-3"></div>

                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="delete">
        <div class="modal-dialog">
            <div class="modal-content">
                <form>
                    <div class="modal-header">
                        <h4 class="modal-title">Delete product</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p class="fs-5">Xác nhập xóa?</p>
                    </div>
                    <div class="modal-footer">
                        <input type="button" class="btn btn-primary" data-bs-dismiss="modal" value="NO">
                        <input type="submit" class="btn btn-danger" value="Yes">
                    </div>
                </form>

            </div>
        </div>
    </div>
    <script th:inline="javascript">
        var productName = /*[[${productsName}]]*/ 'default';
        var productQuantity = /*[[${productsQuantity}]]*/ 'default';
        var options = {
            series: [{
                name: 'Tổng số sản phẩm',
                data: productQuantity
            }],
            chart: {
                height: 500,
                type: 'bar',
            },
            plotOptions: {
                bar: {
                    borderRadius: 10,
                    dataLabels: {
                        position: 'top', // top, center, bottom
                    },
                }
            },
            dataLabels: {
                enabled: true,
                formatter: function (val) {
                    return val + "Cái";
                },
                offsetY: -20,
                style: {
                    fontSize: '12px',
                    colors: ["#304758"]
                }
            },

            xaxis: {
                categories: productName,
                position: 'top',
                axisBorder: {
                    show: false
                },
                axisTicks: {
                    show: false
                },
                crosshairs: {
                    fill: {
                        type: 'gradient',
                        gradient: {
                            colorFrom: '#D8E3F0',
                            colorTo: '#BED1E6',
                            stops: [0, 100],
                            opacityFrom: 0.4,
                            opacityTo: 0.5,
                        }
                    }
                },
                tooltip: {
                    enabled: true,
                },
                labels: {
                    style: {
                        fontSize: '14px',  
                        fontWeight: 'bold',
                        colors: ['#304758'] 
                    }
                }
            },
            yaxis: {
                axisBorder: {
                    show: false
                },
                axisTicks: {
                    show: false,
                },
                labels: {
                    show: false,
                    formatter: function (val) {
                        return val + "Cái";
                    }
                },
                max: Math.max(...productQuantity) + 50
            },
            title: {
                text: 'Số lượng sản phẩm',
                floating: true,
                offsetY: 330,
                align: 'center',
                style: {
                    color: '#444'
                }
            }
        };

        var chart = new ApexCharts(document.querySelector("#productCollumnChart"), options);
        chart.render();
    </script>

</section>